# ğŸ›  ì‹±ê¸€í†¤ íŒ¨í„´ (Singleton Pattern)

## ğŸ“Œ ì •ì˜

ì†Œí”„íŠ¸ì›¨ì–´ ë””ìì¸ íŒ¨í„´ì˜ ì¼ì¢…ìœ¼ë¡œ, í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ê°–ë„ë¡ ë³´ì¥í•˜ê³ , ê·¸ ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì „ì—­ì ì¸ ì ‘ê·¼ë²•ì„ ì œê³µí•˜ëŠ” íŒ¨í„´ì´ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ê³¼ ê°™ì€ ë¦¬ì†ŒìŠ¤ëŠ” í”„ë¡œê·¸ë¨ ì „ì²´ì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì‚¬ìš©í•´ì•¼ í•  ë•Œê°€ ë§ê¸° ë•Œë¬¸ì— ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.

## ğŸ¯ íŠ¹ì§•

1. í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì¡´ì¬

- í”„ë¡œê·¸ë¨ ì‹¤í–‰ ë™ì•ˆ ë‹¨ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ìƒì„±ë˜ê³  ìœ ì§€ëœë‹¤.

2. ì „ì—­ ì ‘ê·¼ ê°€ëŠ¥

- ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì •ì (static) ë©”ì„œë“œë¥¼ í†µí•´ ì–´ë””ì„œë“  ì ‘ê·¼ ê°€ëŠ¥

- ê°ì²´ëª….ë©”ì„œë“œëª…() âŒ

- í´ë˜ìŠ¤ëª….ë©”ì„œë“œëª…() â­•

3. ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒëª… ì£¼ê¸° ê´€ë¦¬

- í´ë˜ìŠ¤ ìì²´ê°€ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ê´€ë¦¬í•˜ë¯€ë¡œ, ë‹¤ë¥¸ ê°ì²´ë“¤ì´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê±°ë‚˜ íê¸°í•  ìˆ˜ ì—†ìŒ

## âœ… ì¥ì 

1. ë©”ëª¨ë¦¬ ì ˆì•½

- ë¶ˆí•„ìš”í•œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ë°©ì§€í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•  ìˆ˜ ìˆë‹¤.
- (static ë³€ìˆ˜ / ë©”ì„œë“œì˜ ì¥ì ì„ ë– ì˜¬ë¦¬ë©´ ëœë‹¤.)

2. ì „ì—­ì  ì ‘ê·¼ ê°€ëŠ¥

- ì „ì—­ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆì–´ ë°ì´í„° ê´€ë¦¬ê°€ ìš©ì´í•˜ë‹¤.
- (âš  í•˜ì§€ë§Œ ì¦ì€ ì ‘ê·¼ ìì²´ëŠ” ë‹¨ì ì´ ë  ìˆ˜ë„ ìˆìŒ)

3. ì¼ê´€ì„± ìœ ì§€

- ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ë°˜ì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ìƒíƒœ ì¼ê´€ì„± ìœ ì§€ê°€ ê°€ëŠ¥í•˜ë‹¤.

## âŒ ë‹¨ì 

1. í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€

- ì‹±ê¸€í†¤ íŒ¨í„´ì€ ì „ì—­ì ìœ¼ë¡œ ì‚¬ìš©ë˜ë¯€ë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ

2. ì˜ì¡´ì„± ìˆ¨ê¹€ ë¬¸ì œ

- ì‹±ê¸€í†¤ì„ ë‚¨ìš©í•˜ë©´ í´ë˜ìŠ¤ ê°„ì˜ ì˜ì¡´ì„±ì„ ì¶”ì í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ

# ğŸ’» ì‹±ê¸€í†¤ íŒ¨í„´ ì˜ˆì œ ì½”ë“œ ë° ì½”ë“œ ì‹¤í–‰ ìˆœì„œ

## ğŸ“œ ì½”ë“œ

### (1) `FactoryMain`
```java
package ch17_static.singleton;

public class FactoryMain {
    public static void main(String[] args) {
        Factory factory1 = new Factory("1ê³µì¥");
        Factory factory2 = new Factory("2ê³µì¥");

        SmartPhone smartPhone1 = factory1.produceSmartPhone();
        // .produceSmartPhone()ì˜ ë¦¬í„´ íƒ€ì…ì´ SmartPhoneì˜ ê°ì²´
        System.out.println(smartPhone1);
        SmartPhone smartPhone2 = factory2.produceSmartPhone();
        System.out.println(smartPhone2);
        /*
            ì´ìƒì˜ ì½”ë“œë“¤ì„ ì‹¤í–‰ì‹œì¼°ì„ ë•Œ ì•Œ ìˆ˜ ìˆëŠ” ì ìœ¼ë¡œëŠ”
            ì–´ëŠ ê³µì¥ ê°ì²´ì—ì„œ ë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œì¼°ë“  ê°„ì—
            createSerialNumber() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ê°€ ì¼ì›í™”ë˜ì–´
            ì‹œë¦¬ì–¼ ë„˜ë²„ê°€ ë¶€ì—¬ëœë‹¤ëŠ” ì ì…ë‹ˆë‹¤.ã…
         */
    }
}
```

### (2) `Factory`
```java
package ch17_static.singleton;

import lombok.AllArgsConstructor;
@AllArgsConstructor
public class Factory {
    // í•„ë“œ ì„ ì–¸
    private String factoryName;

    // ë©”ì„œë“œ ì •ì˜
    public SmartPhone produceSmartPhone() {
        System.out.println(factoryName + "ì—ì„œ ìŠ¤ë§ˆíŠ¸í°ì„ ìƒì‚°í•©ë‹ˆë‹¤.");
        String model = "ê°¤ëŸ­ì‹œS26";

        String serial;
        Samsung samsung = Samsung.getInstance();

        serial = samsung.creatrSerialNumber(model);

        SmartPhone smartPhone = new SmartPhone(samsung.getCompany(), model, serial);

        return smartPhone;
    }
}

```

### (3) `Samsung`
```java
package ch17_static.singleton;

import lombok.Getter;
public class Samsung {
    // ì •ì  ë³€ìˆ˜
    private static Samsung instance;    // ìµœì´ˆë¡œ ìƒì„±ëœ Samsung í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ëŒ€ì…í•  ì •ì  ë³€ìˆ˜
    // ë©¤ë²„ ë³€ìˆ˜
    @Getter
    private String company;
    private int serialNumber;

    private Samsung() {
        company = getClass().getSimpleName();
        serialNumber = 20250000;
    }

    public static Samsung getInstance() {
        if (instance == null) {         // ìµœì´ˆì˜ í˜¸ì¶œ ì‹œì—ë§Œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ í•˜ëŠ” ì¡°ê±´ë¬¸
            instance = new Samsung();
        }
        return instance;    // ê²°êµ­ í•­ìƒ ê°™ì€ ê°ì²´ë¥¼ ë¦¬í„´í•¨
    }

    public String creatrSerialNumber(String model) {
        return model + "_" + ++serialNumber;
    }
}
```

### (4) `SmartPhone`
```java
package ch17_static.singleton;

import lombok.AllArgsConstructor;
import lombok.ToString;

@AllArgsConstructor
@ToString
public class SmartPhone {
    // í•„ë“œ ì„ ì–¸
    private String company;
    private String model;
    private String serial;

    @Override
    public String toString() {
        return "company : " + company +
                "\nmodel : " + model +
                "\nserial : " + serial;
    }
}

```



## ğŸ“œ ì½”ë“œ ì‹¤í–‰ ìˆœì„œ
```java
public static void main(String[] args) {
```
### 1ï¸âƒ£ main ë©”ì„œë“œ ì‹¤í–‰ ì‹œì‘
```java
Factory factory1 = new Factory("1ê³µì¥");
```
### 2ï¸âƒ£ Factory ê°ì²´ ìƒì„±

- `@AllArgsConstructor`ë¥¼ ì‚¬ìš©í•˜ì—¬ `factoryName = "1ê³µì¥"`ìœ¼ë¡œ ì„¤ì •ë¨.
```java
SmartPhone smartPhone1 = factory1.produceSmartPhone();
```
### 3ï¸âƒ£ `factory1.produceSmartPhone()` í˜¸ì¶œ

- `1ê³µì¥ì—ì„œ ìŠ¤ë§ˆíŠ¸í°ì„ ìƒì‚°í•©ë‹ˆë‹¤.` ì¶œë ¥ë¨.

- `String model = "ê°¤ëŸ­ì‹œS26"`; ì„ ì–¸.
```java
Samsung samsung = Samsung.getInstance();
```
### 4ï¸âƒ£ `Samsung.getInstance()` í˜¸ì¶œ

- `instance == null`ì´ë¯€ë¡œ `new Samsung();` ì‹¤í–‰ë¨.

-` company = "Samsung"` í• ë‹¹.

- `serialNumber = 20250000` í• ë‹¹.
```java
serial = samsung.creatrSerialNumber(model);
```
### 5ï¸âƒ£ samsung.creatrSerialNumber("ê°¤ëŸ­ì‹œS26") ì‹¤í–‰

- `serialNumber` ì¦ê°€ (`20250001`)

- `serial = "ê°¤ëŸ­ì‹œS26_20250001"`
```java
SmartPhone smartPhone = new SmartPhone(samsung.getCompany(), model, serial);
```
### 6ï¸âƒ£ SmartPhone ê°ì²´ ìƒì„±

- `company = "Samsung"`

- `model = "ê°¤ëŸ­ì‹œS26"`

- `serial = "ê°¤ëŸ­ì‹œS26_20250001"`
```java
System.out.println(smartPhone1);
```
### 7ï¸âƒ£ `smartPhone1.toString()` í˜¸ì¶œ

- ê²°ê³¼ ì¶œë ¥:
```markdown
1ê³µì¥ì—ì„œ ìŠ¤ë§ˆíŠ¸í°ì„ ìƒì‚°í•©ë‹ˆë‹¤.
company : Samsung
model : ê°¤ëŸ­ì‹œS26
serial : ê°¤ëŸ­ì‹œS26_20250001
```
## ğŸ”¥ ìµœì¢… ì‹¤í–‰ ìˆœì„œ ìš”ì•½
```markdown
1. main() ì‹¤í–‰
2. Factory ê°ì²´ ìƒì„± (factory1 = "1ê³µì¥")
3. factory1.produceSmartPhone() í˜¸ì¶œ
4. "1ê³µì¥ì—ì„œ ìŠ¤ë§ˆíŠ¸í°ì„ ìƒì‚°í•©ë‹ˆë‹¤." ì¶œë ¥
5. Samsung.getInstance() í˜¸ì¶œ (ìµœì´ˆ ì‹¤í–‰ì´ë¼ ê°ì²´ ìƒì„±)
6. Samsungì˜ serialNumber ì¦ê°€ (20250001)
7. SmartPhone ê°ì²´ ìƒì„±
8. smartPhone1.toString() í˜¸ì¶œ ë° ì¶œë ¥
```
